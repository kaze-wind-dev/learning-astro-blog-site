---
import { BLOG_LIMIT } from "../../constants";
import Layout from "../../layout/Layout.astro";
import { getBlogList } from "../../libs/api/microcms";
import BlogList from "../../components/BlogList.astro";
import Pagination from "../../components/Pagination.astro";
const pageTitle = "ブログ一覧";

const page = Number(Astro.params.page);
// console.log(page);

const { contents: blogList, totalCount } = await getBlogList({
  limit: BLOG_LIMIT,
});


---

<Layout pageTitle={pageTitle}>
    <!-- <main transition:name="main" transition:animate="none"> -->
    <main>
        <h1>ブログ一覧</h1>
        <BlogList blogList={blogList} />
        <Pagination
        limit={BLOG_LIMIT}
        totalCount={totalCount}
        page={page}
        basePath="/blog"
      />
  
    </main>
</Layout>